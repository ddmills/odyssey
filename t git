warning: LF will be replaced by CRLF in src/data/SpawnableType.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/data/TileResources.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/components/LiquidContainer.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/data/liquids/Liquid.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/data/liquids/Liquids.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/AshPilePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/BaldCypressPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/BloodSpatterPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/BulletPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/CactusPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/CampfirePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/ChestPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/CoachGunPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/DusterPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/HumanCorpsePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/LanternPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/LockboxPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/LongJohnsPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/NavyRevoloverPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/OakTreePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/PineTreePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/PistolAmmoPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/PlayerPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/PonchoPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/Prefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/PuddlePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/RevoloverPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/RifleAmmoPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/RiflePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/ShotgunAmmoPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/SnakeCorpsePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/SnakePrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/SnubNoseRevolverPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/Spawner.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/StickPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/ThugPistolPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/ThugPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/VialWhiskeyPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/prefabs/WagonWheelPrefab.hx.
The file will have its original line endings in your working directory
warning: LF will be replaced by CRLF in src/domain/terrain/ChunkGen.hx.
The file will have its original line endings in your working directory
[1mdiff --git a/res/tiles/smol/sprites_14_14.pyxel b/res/tiles/smol/sprites_14_14.pyxel[m
[1mindex df4ca33..8c04b1d 100644[m
Binary files a/res/tiles/smol/sprites_14_14.pyxel and b/res/tiles/smol/sprites_14_14.pyxel differ
[1mdiff --git a/src/data/SpawnableType.hx b/src/data/SpawnableType.hx[m
[1mindex 87614fd..c8343ea 100644[m
[1m--- a/src/data/SpawnableType.hx[m
[1m+++ b/src/data/SpawnableType.hx[m
[36m@@ -31,8 +31,9 @@[m [menum SpawnableType[m
 	CAMPFIRE;[m
 	LANTERN;[m
 	ASHES;[m
[31m-	JAR_EMPTY;[m
[31m-	VIAL_EMPTY;[m
[32m+[m	[32mJAR;[m
[32m+[m	[32mVIAL;[m
 	VIAL_WHISKEY;[m
 	WAGON_WHEEL;[m
[32m+[m	[32mPUDDLE;[m
 }[m
[1mdiff --git a/src/data/TileResources.hx b/src/data/TileResources.hx[m
[1mindex a10037e..864c4c2 100644[m
[1m--- a/src/data/TileResources.hx[m
[1m+++ b/src/data/TileResources.hx[m
[36m@@ -26,6 +26,7 @@[m [mclass TileResources[m
 	public static function Init()[m
 	{[m
 		var t = hxd.Res.tiles.smol.sheet_14_14.toTile().divide(16, 16);[m
[32m+[m		[32m// var t = hxd.Res.tiles.smol.sheet_16_24.toTile().divide(16, 16);[m
 [m
 		tiles.set(TK_UNKNOWN, t[0][7]);[m
 [m
[1mdiff --git a/src/domain/components/LiquidContainer.hx b/src/domain/components/LiquidContainer.hx[m
[1mindex 9dcc8f3..67cfb24 100644[m
[1m--- a/src/domain/components/LiquidContainer.hx[m
[1m+++ b/src/domain/components/LiquidContainer.hx[m
[36m@@ -233,7 +233,7 @@[m [mclass LiquidContainer extends Component[m
 	{[m
 		if (liquidType != null)[m
 		{[m
[31m-			return Liquids.get(liquidType);[m
[32m+[m			[32mreturn Liquids.Get(liquidType);[m
 		}[m
 		return null;[m
 	}[m
[1mdiff --git a/src/domain/data/liquids/Liquid.hx b/src/domain/data/liquids/Liquid.hx[m
[1mindex 483057f..9dcba4d 100644[m
[1m--- a/src/domain/data/liquids/Liquid.hx[m
[1m+++ b/src/domain/data/liquids/Liquid.hx[m
[36m@@ -6,6 +6,7 @@[m [mimport domain.components.LiquidContainer;[m
 import domain.components.Moniker;[m
 import domain.components.Sprite;[m
 import domain.events.EntitySpawnedEvent;[m
[32m+[m[32mimport domain.prefabs.Spawner;[m
 import ecs.Entity;[m
 [m
 abstract class Liquid[m
[36m@@ -25,14 +26,9 @@[m [mabstract class Liquid[m
 [m
 	public function createPuddle(pos:Coordinate, volume:Int):Entity[m
 	{[m
[31m-		var entity = new Entity();[m
[31m-[m
[31m-		entity.add(new Sprite(PUDDLE_1, primaryColor, secondaryColor, GROUND));[m
[31m-		entity.add(new Moniker('Puddle'));[m
[31m-		entity.add(new LiquidContainer(liquidType, volume, 1000, true, true, false, true, true));[m
[31m-		entity.fireEvent(new EntitySpawnedEvent());[m
[31m-		entity.pos = pos;[m
[31m-[m
[31m-		return entity;[m
[32m+[m		[32mreturn Spawner.Spawn(PUDDLE, pos, {[m
[32m+[m			[32mliquidType: liquidType,[m
[32m+[m			[32mvolume: volume,[m
[32m+[m		[32m});[m
 	}[m
 }[m
[1mdiff --git a/src/domain/data/liquids/Liquids.hx b/src/domain/data/liquids/Liquids.hx[m
[1mindex c195e30..8c6732f 100644[m
[1m--- a/src/domain/data/liquids/Liquids.hx[m
[1m+++ b/src/domain/data/liquids/Liquids.hx[m
[36m@@ -18,7 +18,7 @@[m [mclass Liquids[m
 		registry.register(LIQUID_WHALE_OIL, new LiquidWhaleOil());[m
 	}[m
 [m
[31m-	public static function get(liquidType:LiquidType)[m
[32m+[m	[32mpublic static function Get(liquidType:LiquidType)[m
 	{[m
 		return registry.get(liquidType);[m
 	}[m
[1mdiff --git a/src/domain/prefabs/AshPilePrefab.hx b/src/domain/prefabs/AshPilePrefab.hx[m
[1mindex 656575b..1731be9 100644[m
[1m--- a/src/domain/prefabs/AshPilePrefab.hx[m
[1m+++ b/src/domain/prefabs/AshPilePrefab.hx[m
[36m@@ -7,7 +7,7 @@[m [mimport ecs.Entity;[m
 [m
 class AshPilePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/BaldCypressPrefab.hx b/src/domain/prefabs/BaldCypressPrefab.hx[m
[1mindex 58f5bea..aa32e5f 100644[m
[1m--- a/src/domain/prefabs/BaldCypressPrefab.hx[m
[1m+++ b/src/domain/prefabs/BaldCypressPrefab.hx[m
[36m@@ -10,7 +10,7 @@[m [mimport ecs.Entity;[m
 [m
 class BaldCypressPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 		var r = Game.instance.world.rand;[m
[1mdiff --git a/src/domain/prefabs/BloodSpatterPrefab.hx b/src/domain/prefabs/BloodSpatterPrefab.hx[m
[1mindex eb0a6bf..5da0150 100644[m
[1m--- a/src/domain/prefabs/BloodSpatterPrefab.hx[m
[1m+++ b/src/domain/prefabs/BloodSpatterPrefab.hx[m
[36m@@ -6,9 +6,9 @@[m [mimport ecs.Entity;[m
 [m
 class BloodSplatterPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
[31m-		var entity = Liquids.get(LIQUID_BLOOD).createPuddle(new Coordinate(0, 0, WORLD), 5);[m
[32m+[m		[32mvar entity = Liquids.Get(LIQUID_BLOOD).createPuddle(new Coordinate(0, 0, WORLD), 5);[m
 [m
 		return entity;[m
 	}[m
[1mdiff --git a/src/domain/prefabs/BulletPrefab.hx b/src/domain/prefabs/BulletPrefab.hx[m
[1mindex 68137e7..27e3847 100644[m
[1m--- a/src/domain/prefabs/BulletPrefab.hx[m
[1m+++ b/src/domain/prefabs/BulletPrefab.hx[m
[36m@@ -8,7 +8,7 @@[m [mimport ecs.Entity;[m
 [m
 class BulletPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var bullet = new Entity();[m
 		bullet.add(new Sprite(DOT, 0xB2D9E0, 0x080604, OVERLAY));[m
[1mdiff --git a/src/domain/prefabs/CactusPrefab.hx b/src/domain/prefabs/CactusPrefab.hx[m
[1mindex cebb832..35007d9 100644[m
[1m--- a/src/domain/prefabs/CactusPrefab.hx[m
[1m+++ b/src/domain/prefabs/CactusPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class CactusPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var r = Game.instance.world.rand;[m
 		var isFlowering = r.bool(.75);[m
[1mdiff --git a/src/domain/prefabs/CampfirePrefab.hx b/src/domain/prefabs/CampfirePrefab.hx[m
[1mindex 70e260d..2c33935 100644[m
[1m--- a/src/domain/prefabs/CampfirePrefab.hx[m
[1m+++ b/src/domain/prefabs/CampfirePrefab.hx[m
[36m@@ -10,7 +10,7 @@[m [mimport hxd.Rand;[m
 [m
 class CampfirePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 		var r = Rand.create();[m
[36m@@ -20,7 +20,7 @@[m [mclass CampfirePrefab extends Prefab[m
 		entity.add(new SpriteAnim([CAMPFIRE_1, CAMPFIRE_2, CAMPFIRE_3], speed, 0x8D450B, 0xF3A52F, OBJECTS));[m
 		entity.add(new Moniker('Campfire'));[m
 		entity.add(new LightSource(.4, 0xe0bf00, 4));[m
[31m-		entity.add(new FuelConsumer([FUEL_WOOD], 25, 100, 1, true, true));[m
[32m+[m		[32mentity.add(new FuelConsumer([FUEL_WOOD], 200, 800, 1, true, true));[m
 		entity.add(new Combustible(ASHES));[m
 [m
 		return entity;[m
[1mdiff --git a/src/domain/prefabs/ChestPrefab.hx b/src/domain/prefabs/ChestPrefab.hx[m
[1mindex 5f32344..d9786df 100644[m
[1m--- a/src/domain/prefabs/ChestPrefab.hx[m
[1m+++ b/src/domain/prefabs/ChestPrefab.hx[m
[36m@@ -8,7 +8,7 @@[m [mimport ecs.Entity;[m
 [m
 class ChestPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var chest = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/CoachGunPrefab.hx b/src/domain/prefabs/CoachGunPrefab.hx[m
[1mindex 310f0ee..49bf72e 100644[m
[1m--- a/src/domain/prefabs/CoachGunPrefab.hx[m
[1m+++ b/src/domain/prefabs/CoachGunPrefab.hx[m
[36m@@ -11,7 +11,7 @@[m [mimport ecs.Entity;[m
 [m
 class CoachGunPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var entity = new Entity();[m
 		entity.add(new Sprite(SHOTGUN_1, 0xA5CACA, 0x814B0D, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/DusterPrefab.hx b/src/domain/prefabs/DusterPrefab.hx[m
[1mindex 6d9b80e..620c52c 100644[m
[1m--- a/src/domain/prefabs/DusterPrefab.hx[m
[1m+++ b/src/domain/prefabs/DusterPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class DusterPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var duster = new Entity();[m
 		duster.add(new Sprite(DUSTER, 0x97621C, 0x080604, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/HumanCorpsePrefab.hx b/src/domain/prefabs/HumanCorpsePrefab.hx[m
[1mindex 3c65353..9a17514 100644[m
[1m--- a/src/domain/prefabs/HumanCorpsePrefab.hx[m
[1m+++ b/src/domain/prefabs/HumanCorpsePrefab.hx[m
[36m@@ -7,7 +7,7 @@[m [mimport ecs.Entity;[m
 [m
 class HumanCorpsePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var corpse = new Entity();[m
 		corpse.add(new Sprite(CORPSE_HUMAN, 0x979282, 0x701E1E, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/JarEmptyPrefab.hx b/src/domain/prefabs/JarEmptyPrefab.hx[m
[1mdeleted file mode 100644[m
[1mindex f560812..0000000[m
[1m--- a/src/domain/prefabs/JarEmptyPrefab.hx[m
[1m+++ /dev/null[m
[36m@@ -1,22 +0,0 @@[m
[31m-package domain.prefabs;[m
[31m-[m
[31m-import domain.components.LiquidContainer;[m
[31m-import domain.components.Loot;[m
[31m-import domain.components.Moniker;[m
[31m-import domain.components.Sprite;[m
[31m-import ecs.Entity;[m
[31m-[m
[31m-class JarEmptyPrefab extends Prefab[m
[31m-{[m
[31m-	public function Create(?options:Dynamic):Entity[m
[31m-	{[m
[31m-		var entity = new Entity();[m
[31m-[m
[31m-		entity.add(new Sprite(JAR, 0x8ac1ee, 0x121213, OBJECTS));[m
[31m-		entity.add(new Moniker('Jar'));[m
[31m-		entity.add(new Loot());[m
[31m-		entity.add(new LiquidContainer(LIQUID_WATER, 0, 120, true, true, true, false, false));[m
[31m-[m
[31m-		return entity;[m
[31m-	}[m
[31m-}[m
[1mdiff --git a/src/domain/prefabs/LanternPrefab.hx b/src/domain/prefabs/LanternPrefab.hx[m
[1mindex c4a73b9..8579173 100644[m
[1m--- a/src/domain/prefabs/LanternPrefab.hx[m
[1m+++ b/src/domain/prefabs/LanternPrefab.hx[m
[36m@@ -10,7 +10,7 @@[m [mimport ecs.Entity;[m
 [m
 class LanternPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/LockboxPrefab.hx b/src/domain/prefabs/LockboxPrefab.hx[m
[1mindex 1d36f71..71c5896 100644[m
[1m--- a/src/domain/prefabs/LockboxPrefab.hx[m
[1m+++ b/src/domain/prefabs/LockboxPrefab.hx[m
[36m@@ -8,7 +8,7 @@[m [mimport ecs.Entity;[m
 [m
 class LockboxPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var lockbox = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/LongJohnsPrefab.hx b/src/domain/prefabs/LongJohnsPrefab.hx[m
[1mindex 8718ccd..e392cbe 100644[m
[1m--- a/src/domain/prefabs/LongJohnsPrefab.hx[m
[1m+++ b/src/domain/prefabs/LongJohnsPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class LongJohnsPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var longJohns = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/NavyRevoloverPrefab.hx b/src/domain/prefabs/NavyRevoloverPrefab.hx[m
[1mindex c841263..beb86cd 100644[m
[1m--- a/src/domain/prefabs/NavyRevoloverPrefab.hx[m
[1m+++ b/src/domain/prefabs/NavyRevoloverPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class NavyRevoloverPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var entity = new Entity();[m
 		entity.add(new Sprite(PISTOL_3, 0xA5CACA, 0x814B0D, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/OakTreePrefab.hx b/src/domain/prefabs/OakTreePrefab.hx[m
[1mindex 0e9e53a..ef1e33d 100644[m
[1m--- a/src/domain/prefabs/OakTreePrefab.hx[m
[1m+++ b/src/domain/prefabs/OakTreePrefab.hx[m
[36m@@ -10,7 +10,7 @@[m [mimport ecs.Entity;[m
 [m
 class OakTreePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 		var r = Game.instance.world.rand;[m
[1mdiff --git a/src/domain/prefabs/PineTreePrefab.hx b/src/domain/prefabs/PineTreePrefab.hx[m
[1mindex a91e574..20ef079 100644[m
[1m--- a/src/domain/prefabs/PineTreePrefab.hx[m
[1m+++ b/src/domain/prefabs/PineTreePrefab.hx[m
[36m@@ -10,7 +10,7 @@[m [mimport ecs.Entity;[m
 [m
 class PineTreePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 		var r = Game.instance.world.rand;[m
[1mdiff --git a/src/domain/prefabs/PistolAmmoPrefab.hx b/src/domain/prefabs/PistolAmmoPrefab.hx[m
[1mindex 7323aa3..6ffdcb9 100644[m
[1m--- a/src/domain/prefabs/PistolAmmoPrefab.hx[m
[1m+++ b/src/domain/prefabs/PistolAmmoPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class PistolAmmoPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/PlayerPrefab.hx b/src/domain/prefabs/PlayerPrefab.hx[m
[1mindex 7513a46..4776b26 100644[m
[1m--- a/src/domain/prefabs/PlayerPrefab.hx[m
[1m+++ b/src/domain/prefabs/PlayerPrefab.hx[m
[36m@@ -19,7 +19,7 @@[m [mimport hxd.Rand;[m
 [m
 class PlayerPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var r = Rand.create();[m
 		var entity = new Entity();[m
[36m@@ -63,8 +63,8 @@[m [mclass PlayerPrefab extends Prefab[m
 		entity.get(Inventory).addLoot(Spawner.Spawn(REVOLVER));[m
 		entity.get(Inventory).addLoot(Spawner.Spawn(VIAL_WHISKEY));[m
 		entity.get(Inventory).addLoot(Spawner.Spawn(VIAL_WHISKEY));[m
[31m-		entity.get(Inventory).addLoot(Spawner.Spawn(VIAL_EMPTY));[m
[31m-		entity.get(Inventory).addLoot(Spawner.Spawn(JAR_EMPTY));[m
[32m+[m		[32mentity.get(Inventory).addLoot(Spawner.Spawn(VIAL));[m
[32m+[m		[32mentity.get(Inventory).addLoot(Spawner.Spawn(JAR));[m
 		entity.get(Inventory).addLoot(Spawner.Spawn(STICK));[m
 		entity.get(Inventory).addLoot(Spawner.Spawn(STICK));[m
 		entity.get(Inventory).addLoot(Spawner.Spawn(STICK));[m
[1mdiff --git a/src/domain/prefabs/PonchoPrefab.hx b/src/domain/prefabs/PonchoPrefab.hx[m
[1mindex 13b2632..86bd6a4 100644[m
[1m--- a/src/domain/prefabs/PonchoPrefab.hx[m
[1m+++ b/src/domain/prefabs/PonchoPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class PonchoPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 		entity.add(new Sprite(PONCHO, 0x3B7443, 0xDAC9BB, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/Prefab.hx b/src/domain/prefabs/Prefab.hx[m
[1mindex 3cba539..eaefde8 100644[m
[1m--- a/src/domain/prefabs/Prefab.hx[m
[1m+++ b/src/domain/prefabs/Prefab.hx[m
[36m@@ -6,5 +6,5 @@[m [mabstract class Prefab[m
 {[m
 	public function new() {};[m
 [m
[31m-	public abstract function Create(?options:Dynamic):Entity;[m
[32m+[m	[32mpublic abstract function Create(options:Dynamic):Entity;[m
 }[m
[1mdiff --git a/src/domain/prefabs/PuddlePrefab.hx b/src/domain/prefabs/PuddlePrefab.hx[m
[1mindex 80ffda6..c3e0147 100644[m
[1m--- a/src/domain/prefabs/PuddlePrefab.hx[m
[1m+++ b/src/domain/prefabs/PuddlePrefab.hx[m
[36m@@ -1,17 +1,26 @@[m
 package domain.prefabs;[m
 [m
[32m+[m[32mimport data.LiquidType;[m
[32m+[m[32mimport domain.components.LiquidContainer;[m
 import domain.components.Moniker;[m
 import domain.components.Sprite;[m
[32m+[m[32mimport domain.data.liquids.Liquids;[m
 import ecs.Entity;[m
 [m
 class PuddlePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
[32m+[m		[32mvar liquidType:LiquidType = options.liquidType == null ? LIQUID_WATER : options.liquidType;[m
[32m+[m		[32mvar volume:Int = options.volume == null ? 0 : options.volume;[m
[32m+[m		[32mvar maxVolume:Int = options.maxVolume == null ? 1000 : options.maxVolume;[m
[32m+[m		[32mvar liquid = Liquids.Get(liquidType);[m
[32m+[m
 		var entity = new Entity();[m
 [m
[31m-		entity.add(new Sprite(PUDDLE_1, 0x000000, 0xffffff, GROUND));[m
[31m-		entity.add(new Moniker('puddle'));[m
[32m+[m		[32mentity.add(new Sprite(PUDDLE_1, liquid.primaryColor, liquid.secondaryColor, GROUND));[m
[32m+[m		[32mentity.add(new Moniker('Puddle'));[m
[32m+[m		[32mentity.add(new LiquidContainer(liquidType, volume, maxVolume, true, true, false, true, true));[m
 [m
 		return entity;[m
 	}[m
[1mdiff --git a/src/domain/prefabs/RevoloverPrefab.hx b/src/domain/prefabs/RevoloverPrefab.hx[m
[1mindex f8d325d..2a5ab12 100644[m
[1m--- a/src/domain/prefabs/RevoloverPrefab.hx[m
[1m+++ b/src/domain/prefabs/RevoloverPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class RevoloverPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var entity = new Entity();[m
 		entity.add(new Sprite(PISTOL_1, 0xA5CACA, 0x814B0D, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/RifleAmmoPrefab.hx b/src/domain/prefabs/RifleAmmoPrefab.hx[m
[1mindex e088c16..2426d4e 100644[m
[1m--- a/src/domain/prefabs/RifleAmmoPrefab.hx[m
[1m+++ b/src/domain/prefabs/RifleAmmoPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class RifleAmmoPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/RiflePrefab.hx b/src/domain/prefabs/RiflePrefab.hx[m
[1mindex 0905969..0b0ceed 100644[m
[1m--- a/src/domain/prefabs/RiflePrefab.hx[m
[1m+++ b/src/domain/prefabs/RiflePrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class RiflePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var entity = new Entity();[m
 		entity.add(new Sprite(RIFLE, 0xA5CACA, 0x814B0D, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/ShotgunAmmoPrefab.hx b/src/domain/prefabs/ShotgunAmmoPrefab.hx[m
[1mindex 93e1958..3053325 100644[m
[1m--- a/src/domain/prefabs/ShotgunAmmoPrefab.hx[m
[1m+++ b/src/domain/prefabs/ShotgunAmmoPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class ShotgunAmmoPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/SnakeCorpsePrefab.hx b/src/domain/prefabs/SnakeCorpsePrefab.hx[m
[1mindex ae4b39f..0dde7b9 100644[m
[1m--- a/src/domain/prefabs/SnakeCorpsePrefab.hx[m
[1m+++ b/src/domain/prefabs/SnakeCorpsePrefab.hx[m
[36m@@ -7,7 +7,7 @@[m [mimport ecs.Entity;[m
 [m
 class SnakeCorpsePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var corpse = new Entity();[m
 		corpse.add(new Sprite(CORPSE_SNAKE, 0x979282, 0x701E1E, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/SnakePrefab.hx b/src/domain/prefabs/SnakePrefab.hx[m
[1mindex 42e06c9..0850782 100644[m
[1m--- a/src/domain/prefabs/SnakePrefab.hx[m
[1m+++ b/src/domain/prefabs/SnakePrefab.hx[m
[36m@@ -13,7 +13,7 @@[m [mimport ecs.Entity;[m
 [m
 class SnakePrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var snake = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/SnubNoseRevolverPrefab.hx b/src/domain/prefabs/SnubNoseRevolverPrefab.hx[m
[1mindex cd04b9e..17ff151 100644[m
[1m--- a/src/domain/prefabs/SnubNoseRevolverPrefab.hx[m
[1m+++ b/src/domain/prefabs/SnubNoseRevolverPrefab.hx[m
[36m@@ -9,7 +9,7 @@[m [mimport ecs.Entity;[m
 [m
 class SnubNoseRevolverPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var entity = new Entity();[m
 		entity.add(new Sprite(PISTOL_2, 0xA5CACA, 0x814B0D, OBJECTS));[m
[1mdiff --git a/src/domain/prefabs/Spawner.hx b/src/domain/prefabs/Spawner.hx[m
[1mindex b51a035..e4a5ec5 100644[m
[1m--- a/src/domain/prefabs/Spawner.hx[m
[1m+++ b/src/domain/prefabs/Spawner.hx[m
[36m@@ -43,8 +43,9 @@[m [mclass Spawner[m
 		prefabs.set(CAMPFIRE, new CampfirePrefab());[m
 		prefabs.set(LANTERN, new LanternPrefab());[m
 		prefabs.set(ASHES, new AshPilePrefab());[m
[31m-		prefabs.set(VIAL_EMPTY, new VialEmptyPrefab());[m
[31m-		prefabs.set(JAR_EMPTY, new JarEmptyPrefab());[m
[32m+[m		[32mprefabs.set(VIAL, new VialPrefab());[m
[32m+[m		[32mprefabs.set(JAR, new JarPrefab());[m
[32m+[m		[32mprefabs.set(PUDDLE, new PuddlePrefab());[m
 		prefabs.set(VIAL_WHISKEY, new VialWhiskeyPrefab());[m
 		prefabs.set(WAGON_WHEEL, new WagonWheelPrefab());[m
 	}[m
[36m@@ -52,7 +53,8 @@[m [mclass Spawner[m
 	public function spawn(type:SpawnableType, ?pos:Coordinate, ?options:Dynamic)[m
 	{[m
 		var p = pos == null ? new Coordinate(0, 0, WORLD) : pos.toWorld().floor();[m
[31m-		var entity = prefabs.get(type).Create(options);[m
[32m+[m		[32mvar o = options == null ? {} : options;[m
[32m+[m		[32mvar entity = prefabs.get(type).Create(o);[m
 [m
 		entity.pos = p;[m
 [m
[1mdiff --git a/src/domain/prefabs/StickPrefab.hx b/src/domain/prefabs/StickPrefab.hx[m
[1mindex c86386c..fa8f994 100644[m
[1m--- a/src/domain/prefabs/StickPrefab.hx[m
[1m+++ b/src/domain/prefabs/StickPrefab.hx[m
[36m@@ -11,7 +11,7 @@[m [mimport ecs.Entity;[m
 [m
 class StickPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var entity = new Entity();[m
 [m
[1mdiff --git a/src/domain/prefabs/ThugPistolPrefab.hx b/src/domain/prefabs/ThugPistolPrefab.hx[m
[1mindex 7596e01..8a5c0c1 100644[m
[1m--- a/src/domain/prefabs/ThugPistolPrefab.hx[m
[1m+++ b/src/domain/prefabs/ThugPistolPrefab.hx[m
[36m@@ -15,7 +15,7 @@[m [mimport hxd.Rand;[m
 [m
 class ThugPistolPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var r = Rand.create();[m
 		var entity = new Entity();[m
[1mdiff --git a/src/domain/prefabs/ThugPrefab.hx b/src/domain/prefabs/ThugPrefab.hx[m
[1mindex dc4a909..c49bb86 100644[m
[1m--- a/src/domain/prefabs/ThugPrefab.hx[m
[1m+++ b/src/domain/prefabs/ThugPrefab.hx[m
[36m@@ -15,7 +15,7 @@[m [mimport hxd.Rand;[m
 [m
 class ThugPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic)[m
[32m+[m	[32mpublic function Create(options:Dynamic)[m
 	{[m
 		var r = Rand.create();[m
 		var entity = new Entity();[m
[1mdiff --git a/src/domain/prefabs/VialEmptyPrefab.hx b/src/domain/prefabs/VialEmptyPrefab.hx[m
[1mdeleted file mode 100644[m
[1mindex 55e31cf..0000000[m
[1m--- a/src/domain/prefabs/VialEmptyPrefab.hx[m
[1m+++ /dev/null[m
[36m@@ -1,22 +0,0 @@[m
[31m-package domain.prefabs;[m
[31m-[m
[31m-import domain.components.LiquidContainer;[m
[31m-import domain.components.Loot;[m
[31m-import domain.components.Moniker;[m
[31m-import domain.components.Sprite;[m
[31m-import ecs.Entity;[m
[31m-[m
[31m-class VialEmptyPrefab extends Prefab[m
[31m-{[m
[31m-	public function Create(?options:Dynamic):Entity[m
[31m-	{[m
[31m-		var entity = new Entity();[m
[31m-[m
[31m-		entity.add(new Sprite(VIAL, 0x8ac1ee, 0x121213, OBJECTS));[m
[31m-		entity.add(new Moniker('Vial'));[m
[31m-		entity.add(new Loot());[m
[31m-		entity.add(new LiquidContainer(LIQUID_WATER, 0, 80, true, true, true, false, false));[m
[31m-[m
[31m-		return entity;[m
[31m-	}[m
[31m-}[m
[1mdiff --git a/src/domain/prefabs/VialWhiskeyPrefab.hx b/src/domain/prefabs/VialWhiskeyPrefab.hx[m
[1mindex 1811ab2..f8ecbe9 100644[m
[1m--- a/src/domain/prefabs/VialWhiskeyPrefab.hx[m
[1m+++ b/src/domain/prefabs/VialWhiskeyPrefab.hx[m
[36m@@ -1,18 +1,15 @@[m
 package domain.prefabs;[m
 [m
[31m-import domain.components.LiquidContainer;[m
[32m+[m[32mimport data.LiquidType;[m
 import ecs.Entity;[m
 [m
 class VialWhiskeyPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
[31m-		var entity = Spawner.Spawn(VIAL_EMPTY, options);[m
[31m-[m
[31m-		var liquid = entity.get(LiquidContainer);[m
[31m-		liquid.liquidType = LIQUID_WHISKEY;[m
[31m-		liquid.volume = 42;[m
[31m-[m
[31m-		return entity;[m
[32m+[m		[32mreturn Spawner.Spawn(VIAL, null, {[m
[32m+[m			[32mliquidType: LiquidType.LIQUID_WHISKEY,[m
[32m+[m			[32mvolume: 42,[m
[32m+[m		[32m});[m
 	}[m
 }[m
[1mdiff --git a/src/domain/prefabs/WagonWheelPrefab.hx b/src/domain/prefabs/WagonWheelPrefab.hx[m
[1mindex b81d3f2..92706c7 100644[m
[1m--- a/src/domain/prefabs/WagonWheelPrefab.hx[m
[1m+++ b/src/domain/prefabs/WagonWheelPrefab.hx[m
[36m@@ -8,7 +8,7 @@[m [mimport ecs.Entity;[m
 [m
 class WagonWheelPrefab extends Prefab[m
 {[m
[31m-	public function Create(?options:Dynamic):Entity[m
[32m+[m	[32mpublic function Create(options:Dynamic):Entity[m
 	{[m
 		var entity = new Entity();[m
 [m
[1mdiff --git a/src/domain/terrain/ChunkGen.hx b/src/domain/terrain/ChunkGen.hx[m
[1mindex 86a958c..358749c 100644[m
[1m--- a/src/domain/terrain/ChunkGen.hx[m
[1m+++ b/src/domain/terrain/ChunkGen.hx[m
[36m@@ -28,7 +28,7 @@[m [mclass ChunkGen[m
 		table.add(RIFLE_AMMO, 2);[m
 		table.add(PISTOL_AMMO, 2);[m
 		table.add(SHOTGUN_AMMO, 2);[m
[31m-		table.add(VIAL_EMPTY, 2);[m
[32m+[m		[32mtable.add(VIAL, 2);[m
 		table.add(RIFLE, 4);[m
 		table.add(PONCHO, 1);[m
 		table.add(DUSTER, 2);[m
